<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
	<title>Samuel D. Pollard's blog</title>
	<meta name="description" content="Professional web page for Samuel Pollard">
	<meta name="keywords" content="Sam Pollard, Samuel Pollard, Samuel D. Pollard, computer science, HPC, graph, formal methods, binary analysis">
	<meta name="author" content="Samuel D. Pollard / Original design: http://brutalistframework.com">
	<!-- Twitter Card data -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@samdpollard">
	<meta name="twitter:title" content="Samuel D. Pollard">
	<meta name="twitter:description" content="Professional Twitter account for Samuel D. Pollard.">
	<!-- Twitter Summary card images must be at least 120x120px -->
	<meta name="twitter:image" content="../assets/images/me_1000.jpg">

	<!-- Open Graph data -->
	<meta property="og:title" content="Coquet: A blog about getting a PhD" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://sampollard.github.io" />
	<meta property="og:image" content="https://sampollard.github.io/assets/images/me_france_1080.jpg" />
	<meta property="og:description" content="A blog and professional website for Samuel Pollard" />
	<meta property="og:site_name" content="Samuel Pollard's webpage" />

	<!-- Icons --> <!-- TODO: FIX -->
	<!-- <link rel="shortcut icon" href="assets/icons/bf44.png" type="image/x-icon" /> -->
	<!-- <link rel="icon" href="assets/icons/bf15.ico" type="image/x-icon" /> -->
	<!-- <link rel="apple-touch-icon" href="assets/icons/bf57.png" /> -->

	<!-- CSS  -->
	<link href="../css/core/core.css" type="text/css" rel="stylesheet" media="screen,projection"/>
	<link href="../css/theme.css" type="text/css" rel="stylesheet" media="screen,projection" />
</head>
<body>
	<div class="no-padding">
		<div class="row mint">
			<div class="col-sm-12 no-padding">
				<div class="black blog-head">
					<div class="row">
						<div class="col-xs-3 col-sm-2 col-md-2 col-lg-1 padding center">
							<div class="box-shadow-triple vanilla-bean equal-height no-padding">
								<a href="../index.html">
									<img class="responsive" src="../assets/images/mylogo.svg" alt="My logo of my intials, SP"/>
								</a>
							</div>
						</div>
						<div class="col-xs-7 col-sm-8 col-md-9 col-lg-10">
							<div class="box-shadow-triple vanilla-bean">
								<h3 class="palatino-text heavy gray-text black-text-shadow">
									Coquet: <small><small style="text-shadow: none" > A blog about getting a PhD</small></small>
								</h3>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="academic" class="mint">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
			<p class="lucida-text center flow-text black-text">
				// <a href="../blog.html#academic">Academic</a> // Coq // Ltac Adventures //
			</p>
			</div>
		</div>
	</div>

	<div class="vanilla-bean">
		<div class="container">
			<div class="row">
				<div class="col-sm-12 col-md-9 col-lg-9">
					<div class="single-col pad50">
						<div class="tahoma-text charcoal-text">
							<h3 class="palatino-text heavy black-text">Ltac Adventures</h3>
							<p>Ltac is a strange, dynamically typed language used to write tactics in Coq. In some sense it’s the polar opposite of Coq because of how little is typechecked. Upon first blush, Ltac looks sort of like Gallina, but the semantics are very different. Here I’m just putting notes together for tips and tricks to manage learning it. If you’re like me, then the <a href="https://coq.inria.fr/refman/proof-engine/ltac.html">Ltac reference manual</a> causes more confusions than it clears up, so I’ll be trying to post in more plain English.</p>
							<p>I’ll start with my motivation for developing some proof automation, then go through my thought process. Feedback is greatly appreciated but I wanted to present a more informal approach since the Ltac manual is not friendly to newcomers.</p>
							<h4 class="palatino-text heavy black-text" id="spotting-errors">Spotting Errors</h4>
							<p>Your most valuable friend when debugging Ltac is <code>idtac</code>, which is the tactic that both does nothing and sends a message to the console.</p>
							<p>In my case, I am working with floating point numbers both as bits and as abstract data types, specifically, those used in Flocq. For these, I need to prove a whole slew of rather uninteresting lemmas about numbers. In Coq, these may take the form of relations of <code>Z</code>, <code>nat</code>, <code>N</code>, <code>positive</code>s, and since I’m dealing with bits needs bounds on the number of bits needed to represent a number; that way we know no overflow occurs, to name one case.</p>
							<p>For example, suppose you have the following</p>
							<pre><code>Ltac add_hyp_before_lia A :=
<!--						-->  try match goal with
<!--						-->    | [ p1 : positive, p2 : positive |- _ ] =&gt;
<!--						-->    	pose proof (A p1)
<!--						-->      ; pose proof (A p2)
<!--						-->  end;
<!--						-->  lia.</code></pre>
							<p>Do you spot the mistake? There is no semicolon <code>;</code> between the two <code>pose proof</code>s. This means the match tactic will always fail. But since we wrapped the whole match inside a <code>try</code>. But there will not be any indication that this tactic inside of <code>try</code> will <em>never</em> work.</p>
							<p>I figured this out by adding the following line:</p>
							<pre><code>Ltac add_hyp_before_lia A :=
<!--						-->  try match goal with
<!--						-->    | [ p1 : positive, p2 : positive |- _ ] =&gt;
<!--						-->      idtac &quot;trying to add 2 hypotheses&quot;
<!--						-->      pose proof (A p1)
<!--						-->      pose proof (A p2)
<!--						-->  end;
<!--						-->  lia.</code></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<footer class="black padding">
		<div class="row">
			<div class="col-sm-12 no-padding">
				<small>
					<p class="center white-text lucida-text">Template from <a href="http://www.brutalistframework.com" style="color:#add8e6;">Brutalist Framework</a>.</p>
					<p class="center white-text lucida-text">&copy; 2020 <em>Samuel D. Pollard</em>. Website design licensed under the MIT License. All rights reserved for images and blog.</p>
				</small>
			</div>
		</div>
	</footer>

</body>
</html>
